<!DOCTYPE html>
<!-- _layout.cshtml -->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- _head.cshtml -->
<head>
  <title>Blazor University - Comparing dependency scopes</title>
  <!-- _meta-tags.cshtml -->

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta charset="UTF-8">
<meta name="title" content="Blazor University - Comparing dependency scopes">
<meta name="description">

<!-- Open Graph / Facebook / Twitter -->
<meta property="og:site_name" content="Blazor University">
<meta property="og:url" content="/dependency-injection/dependency-lifetimes-and-scopes/comparing-dependency-scopes">
<meta property="og:title" content="Blazor University - Comparing dependency scopes">
<meta property="og:description">

  <!-- _links.cshtml -->

<link rel="canonical" href="/dependency-injection/dependency-lifetimes-and-scopes/comparing-dependency-scopes">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link href="/css/Site.css" rel="stylesheet" type="text/css">
<!-- using prism for syntax highlighting -->
<link rel="stylesheet" title="highlight_light" href="/css/prism-light.css" disabled="disabled">
<link rel="stylesheet" title="highlight_dark" href="/css/prism-dark.css" disabled="disabled">

</head>

<body class="flex flex-col min-h-screen bg-zinc-200 dark:bg-slate-800 text-zinc-800 dark:text-zinc-100">
  <div className="fixed inset-0 flex justify-center sm:px-8">
    <div className="flex w-full max-w-7xl lg:px-8">
      <div className="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div>
    </div>
  </div>
  <div class="flex flex-col flex-grow mx-auto lg:max-w-6xl ">
    <!-- _header.cshtml -->
<header class="mx-auto">
  <img class="px-10 mx-auto" src="/images/blazor-university-circle.png" />
  <!-- _search.cshtml -->
<button
  type="button"
  className="group flex h-6 w-6 items-center justify-center sm:justify-start md:h-auto md:w-80 md:flex-none md:rounded-lg md:py-2.5 md:pl-4 md:pr-3.5 md:text-sm md:ring-1 md:ring-slate-200 md:hover:ring-slate-300 dark:md:bg-slate-800/75 dark:md:ring-inset dark:md:ring-white/5 dark:md:hover:bg-slate-700/40 dark:md:hover:ring-slate-500 lg:w-96"
  onClick={onOpen}
>
  <svg
    aria-hidden="true"
    className="h-5 w-5 flex-none fill-slate-400 group-hover:fill-slate-500 dark:fill-slate-500 md:group-hover:fill-slate-400"
  >
    <path d="M16.293 17.707a1 1 0 0 0 1.414-1.414l-1.414 1.414ZM9 14a5 5 0 0 1-5-5H2a7 7 0 0 0 7 7v-2ZM4 9a5 5 0 0 1 5-5V2a7 7 0 0 0-7 7h2Zm5-5a5 5 0 0 1 5 5h2a7 7 0 0 0-7-7v2Zm8.707 12.293-3.757-3.757-1.414 1.414 3.757 3.757 1.414-1.414ZM14 9a4.98 4.98 0 0 1-1.464 3.536l1.414 1.414A6.98 6.98 0 0 0 16 9h-2Zm-1.464 3.536A4.98 4.98 0 0 1 9 14v2a6.98 6.98 0 0 0 4.95-2.05l-1.414-1.414Z" />
  </svg>


  <span className="sr-only md:not-sr-only md:ml-2 md:text-slate-500 md:dark:text-slate-400">
    Search docs
  </span>
  <kbd className="ml-auto hidden font-medium text-slate-400 dark:text-slate-500 md:block">
    <kbd className="font-sans">âŒ˜</kbd>
    <kbd className="font-sans">Ctrl</kbd>
    <kbd className="font-sans">K</kbd>
  </kbd>
</button>

  <!-- _navigation.cshtml-->

</header>

    <!-- Main  -->
    <div class="flex flex-col flex-grow w-full mx-auto mt-2">
      <!-- _main-header.cshtml -->
<header class="w-full px-4 mx-auto">
  <!-- _announcement.cshtml -->

<div id="page-banner">
  <div id="page-banner_header">Join me for live Blazor coding!</div>
  <div id="page-banner_body">
    <a href="https://www.twitch.tv/mrpeterlmorris/schedule?seriesID=2a667d82-38aa-4aac-9909-b0e7682236a8">Wednesday at 6pm (UK Time) on Twitch.Tv</a>
  </div>
</div>

  <h1
    class="text-4xl font-bold tracking-tight text-center sm:text-5xl"
  >
    Comparing dependency scopes
  </h1>
  <div class="invisible mt-4 text-sm text-center text-blue-500 uppercase">
    Wednesday, September 21, 2022
  </div>
  <!--image-->
</header>

      <div class="flex flex-row">
        <!-- _sidebar.cshtml -->

<section id="left-sidebar">
  <nav class="content-menu">
    <!-- _tree.cshtml -->
      <div class="hidden menu-group overflow-hidden" data-group-id=f8caf663-c33e-418d-9683-5c8bd6bcb8e3>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=e9eaac19-52a7-474a-a585-7aaf61a44fde data-doc-title="Component libraries">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/component-libraries">Component libraries</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=1b6e3220-b119-41c5-ac1e-436f5ec3bd93 data-doc-title="Components">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components">Components</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=1b6e3220-b119-41c5-ac1e-436f5ec3bd93>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=924fa308-b2aa-42c0-858f-2555dd599d98 data-doc-title="Capturing unexpected parameters">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/capturing-unexpected-parameters">Capturing unexpected parameters</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=78d4ab91-dca5-4afc-9515-65c914b4faca data-doc-title="Cascading values">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components/cascading-values">Cascading values</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=78d4ab91-dca5-4afc-9515-65c914b4faca>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=cf68fe4a-b3b2-4190-9ec9-0064bbab079c data-doc-title="Cascading values by name">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/cascading-values/cascading-values-by-name">Cascading values by name</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=5ae5b9e9-875d-4779-b7f9-bb25402fbf6f data-doc-title="Cascading values by type">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/cascading-values/cascading-values-by-type">Cascading values by type</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=b80338fe-018a-425b-b802-5a0ea5e4da24 data-doc-title="Overriding cascaded values">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/cascading-values/overriding-cascaded-values">Overriding cascaded values</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=4d5e957d-aa92-4fa2-a428-d1583b331a80 data-doc-title="Code generated HTML attributes">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/code-generated-html-attributes">Code generated HTML attributes</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=34e0f5b5-e26b-4d8d-b5b6-887bcc2d1caf data-doc-title="Component events">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components/component-events">Component events</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=34e0f5b5-e26b-4d8d-b5b6-887bcc2d1caf>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=f4446c6d-54fb-4546-9a70-3bed6d89c0e1 data-doc-title="Browser DOM events">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/component-events/browser-dom-events">Browser DOM events</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=f7add840-07a0-4c19-b4be-0c4b7e5d68b2 data-doc-title="Component lifecycles">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/component-lifecycles">Component lifecycles</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=541403c7-eef7-4966-91c4-55ca8a541247 data-doc-title="Creating a component">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/creating-a-component">Creating a component</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=9a47eb4d-fd52-4afb-96f9-bba10171f7e2 data-doc-title="Literals, expressions, and directives">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components/literals-expressions-and-directives">Literals, expressions, and directives</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=9a47eb4d-fd52-4afb-96f9-bba10171f7e2>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=b0e814a8-45e0-4471-a1c0-03936058f393 data-doc-title="Directives">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/literals-expressions-and-directives/directives">Directives</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=dfbe4c0a-6f7b-487a-9b6f-4b2975adad69 data-doc-title="Multi-threaded rendering">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components/multi-threaded-rendering">Multi-threaded rendering</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=dfbe4c0a-6f7b-487a-9b6f-4b2975adad69>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=11d2db42-aa6e-428f-84aa-c00c22104294 data-doc-title="Thread safety using InvokeAsync">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/multi-threaded-rendering/invokeasync">Thread safety using InvokeAsync</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=5477b9cb-6be6-4235-9b25-23e5a234b395 data-doc-title="One-way binding">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/one-way-binding">One-way binding</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=6cc9b596-ca94-4b8a-8872-07c49eaad4d0 data-doc-title="Render trees">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components/render-trees">Render trees</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=6cc9b596-ca94-4b8a-8872-07c49eaad4d0>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=0cd41df8-7fc0-45f0-8043-f162790ed71a data-doc-title="Incremental RenderTree proof">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/render-trees/incremental-rendertree-proof">Incremental RenderTree proof</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=f0ca38b7-64e7-4b8b-bca1-01dd0581616c data-doc-title="Optimising using @key">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/render-trees/optimising-using-key">Optimising using @key</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=7f9d1f89-1831-4198-aa4a-34bfc5e5a166 data-doc-title="Replacing attributes on child components">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/replacing-attributes-on-child-components">Replacing attributes on child components</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=a7ac98b1-93e1-4357-9d30-73d19626fe28 data-doc-title="Two-way binding">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/components/two-way-binding">Two-way binding</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=a7ac98b1-93e1-4357-9d30-73d19626fe28>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=c433163f-6574-4b6e-be08-ae95b3cc021a data-doc-title="Binding directives">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/components/two-way-binding/binding-directives">Binding directives</a>
</div>

      </div>
    </div>
      </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=7d75cb5c-7120-482e-9e8e-e419ae70bb91 data-doc-title="Dependency injection">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/dependency-injection">Dependency injection</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=7d75cb5c-7120-482e-9e8e-e419ae70bb91>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=9df72fc4-2913-46e1-88bf-2ea9a1031f88 data-doc-title="Component scoped dependencies">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/dependency-injection/component-scoped-dependencies">Component scoped dependencies</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=9df72fc4-2913-46e1-88bf-2ea9a1031f88>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=bcd7803f-4fe3-4f3c-bf82-aaf45c49fcf3 data-doc-title="Owning multiple dependencies: The right way">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/component-scoped-dependencies/owning-multiple-dependencies-the-right-way">Owning multiple dependencies: The right way</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=8d426a01-e3f9-46e5-919c-959241c55fa0 data-doc-title="Owning multiple dependencies: The wrong way">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/component-scoped-dependencies/owning-multiple-dependencies-the-wrong-way">Owning multiple dependencies: The wrong way</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=4799b425-83d5-44b4-a738-81a167776998 data-doc-title="OwningComponentBase&amp;lt;T&amp;gt;">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/component-scoped-dependencies/owningcomponentbase-generic">OwningComponentBase&amp;lt;T&amp;gt;</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=3afb44da-3ad4-4588-bdeb-635d5eac0481 data-doc-title="Dependency lifetimes and scopes">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/dependency-injection/dependency-lifetimes-and-scopes">Dependency lifetimes and scopes</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=3afb44da-3ad4-4588-bdeb-635d5eac0481>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=1663f74f-12a6-4bc9-a5a9-196a003042cc data-doc-title="Comparing dependency scopes">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item active">
  <a href="/dependency-injection/dependency-lifetimes-and-scopes/comparing-dependency-scopes">Comparing dependency scopes</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=540aad57-07ed-4a01-a23c-412f0c03d47b data-doc-title="Scoped dependencies">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/dependency-lifetimes-and-scopes/scoped-dependencies">Scoped dependencies</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=76a901f3-8a93-4724-8bc8-adae4add56ff data-doc-title="Singleton dependencies">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/dependency-lifetimes-and-scopes/singleton-dependencies">Singleton dependencies</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=7d51c9a8-a25e-475d-99e9-cd2ead537722 data-doc-title="Transient dependencies">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/dependency-lifetimes-and-scopes/transient-dependencies">Transient dependencies</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=6f0ac6bc-bcc0-4e9a-9fbe-8c3478f1979a data-doc-title="Injecting dependencies into Blazor components">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/dependency-injection/injecting-dependencies-into-blazor-components">Injecting dependencies into Blazor components</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=9da41a98-39a2-4e57-a2d6-9a347697cbac data-doc-title="Forms">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/forms">Forms</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=9da41a98-39a2-4e57-a2d6-9a347697cbac>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=dac19bfa-de5e-4f60-a951-0cb702757b61 data-doc-title="Accessing form state">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/accessing-form-state">Accessing form state</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=9adf46ad-cc97-4133-bd0d-7e1cdf8fcb5d data-doc-title="Descending from InputBase&amp;lt;T&amp;gt;">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/descending-from-inputbase">Descending from InputBase&amp;lt;T&amp;gt;</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=553e91ce-8a39-4afb-92a6-57bc3814a841 data-doc-title="EditContext, FieldIdentifiers, and FieldState">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/editcontext-fieldidentifiers-and-fieldstate">EditContext, FieldIdentifiers, and FieldState</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=a529292a-8882-4ede-bda5-152d966085f4 data-doc-title="Editing form data">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/editing-form-data">Editing form data</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=6a16e1e6-95ea-4350-850b-3c4ad17cb93c data-doc-title="Handling form submission">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/handling-form-submission">Handling form submission</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=42d104e0-819e-46e1-bbf8-e1e813d532ef data-doc-title="Validation">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/validation">Validation</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=d018e895-2d73-4fad-b5c9-6f8b1b9aaa6e data-doc-title="Writing custom validation">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/forms/writing-custom-validation">Writing custom validation</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=67215d6e-8d60-4a85-bb3b-5a936840afda data-doc-title="JavaScript interop">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/javascript-interop">JavaScript interop</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=67215d6e-8d60-4a85-bb3b-5a936840afda>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=df73c75e-33f5-4043-9994-cbcbbe38c340 data-doc-title="Calling .NET From JavaScript">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-dotnet-from-javascript">Calling .NET From JavaScript</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=df73c75e-33f5-4043-9994-cbcbbe38c340>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=8454a48a-558c-408f-bbfc-4f4b245d6ebc data-doc-title="Calling static .NET methods">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-dotnet-from-javascript/calling-static-dotnet-methods">Calling static .NET methods</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=89c5d7f2-83a1-40b6-a90f-c435c8f8c2ac data-doc-title="Lifetimes and memory leaks">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-dotnet-from-javascript/lifetimes-and-memory-leaks">Lifetimes and memory leaks</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=4217c451-263e-41b5-914b-66357b59bab5 data-doc-title="Type safety">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-dotnet-from-javascript/type-safety">Type safety</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=0e634915-b026-4feb-96ae-3b917a69a1e2 data-doc-title="Calling JavaScript from .NET">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-javascript-from-dotnet">Calling JavaScript from .NET</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=0e634915-b026-4feb-96ae-3b917a69a1e2>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=ea011d35-1d5b-4617-9d56-1153d18d3124 data-doc-title="Passing HTML element references">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-javascript-from-dotnet/passing-html-element-references">Passing HTML element references</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=98a44430-3c06-4143-8184-930afb4aa260 data-doc-title="Updating the document title">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/javascript-interop/calling-javascript-from-dotnet/updating-the-document-title">Updating the document title</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=bfda94df-d1ef-4654-8067-ea76ad0bd651 data-doc-title="JavaScript boot process">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/javascript-interop/javascript-boot-process">JavaScript boot process</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=89f30b51-d5c4-4420-89ca-60f866e0d351 data-doc-title="Layouts">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/layouts">Layouts</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=89f30b51-d5c4-4420-89ca-60f866e0d351>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=d8b1c847-340e-42a1-b97b-400182d2898d data-doc-title="Creating a Blazor layout">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/layouts/creating-a-blazor-layout">Creating a Blazor layout</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=0ba6a786-62bc-47c2-83cc-494cb726c89c data-doc-title="Nested layouts">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/layouts/nested-layouts">Nested layouts</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=b986e0d3-50da-4a79-86c2-d46b6ecad427 data-doc-title="Using a layout">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/layouts/using-layouts">Using a layout</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=fa5483ec-fb39-4eef-a7cb-9a9bacdfda3a data-doc-title="Introduction">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/overview">Introduction</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=fa5483ec-fb39-4eef-a7cb-9a9bacdfda3a>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=c07a938a-6bc2-42fd-ba27-6f64bc3cbfb5 data-doc-title="Blazor hosting models">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/overview/blazor-hosting-models">Blazor hosting models</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=9e0443e9-76dc-4a61-b742-50a88508e69e data-doc-title="Creating a new project">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/overview/creating-a-new-project">Creating a new project</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=9f2e8b14-5463-4bba-941d-78f057c64bce data-doc-title="Creating a page">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/overview/creating-a-page">Creating a page</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=de315c3a-47da-4db0-8cf7-a1eb56fc9cbd data-doc-title="Installing Blazor">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/overview/installing-blazor">Installing Blazor</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=8a3f160f-2b3d-4470-89b0-9eacc42dddae data-doc-title="What is Blazor?">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/overview/what-is-blazor">What is Blazor?</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=f14e6605-ab2c-474f-bdf0-c4461e160a31 data-doc-title="What is WebAssembly?">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/overview/what-is-webassembly">What is WebAssembly?</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=b40f1ee8-1100-45b4-a5b6-46f5b4d08c79 data-doc-title="Routing">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/routing">Routing</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=b40f1ee8-1100-45b4-a5b6-46f5b4d08c79>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=f01ced73-fb5e-4534-a08d-2cd6ecfaba26 data-doc-title="404 - Not found">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/404-not-found">404 - Not found</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=917972d6-1178-4395-ac8b-8c6dbcc7a3c7 data-doc-title="Constraining route parameters">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/constraining-route-parameters">Constraining route parameters</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=df62f42f-7fa4-41a5-847e-67c13d319d0c data-doc-title="Defining routes">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/defining-routes">Defining routes</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=4dd41b77-3828-4a08-93bc-1fa1ef0d414a data-doc-title="Detecting navigation events">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/detecting-navigation-events">Detecting navigation events</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=259ca9fd-ecb4-42cd-be69-b47d7d6b743d data-doc-title="Navigating our app via code">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/navigating-our-app-via-code">Navigating our app via code</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=6bee09f1-5b4f-4d78-9366-fce4e7a1f464 data-doc-title="Navigating our app via HTML">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/navigating-our-app-via-html">Navigating our app via HTML</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=45c4bce5-2e42-42ce-8da0-4e21a3c56e79 data-doc-title="Optional route parameters">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/optional-route-parameters">Optional route parameters</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=5770bbd0-ddd9-4236-9e96-0ec54bbfb6f7 data-doc-title="Route parameters">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/routing/route-parameters">Route parameters</a>
</div>

      </div>
    </div>
      </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 pb-2 text-base flex items-start cursor-pointer" data-doc-id=b4f19001-e3b4-4ba4-8708-ebdb83fdcf7e data-doc-title="Templating components with RenderFragments">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->


  <div class="mt-1 mr-2 menu-arrow rotate-arrow">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
  </div>

<div class="sidebar-nav-item">
  <a href="/templating-components-with-renderfragements">Templating components with RenderFragments</a>
</div>

      </div>
    </div>
      <div class="hidden menu-group overflow-hidden pl-2 mb-4" data-group-id=b4f19001-e3b4-4ba4-8708-ebdb83fdcf7e>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=e0a9126c-3db1-4e31-9946-a1750329764b data-doc-title="Creating a TabControl">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/templating-components-with-renderfragements/creating-a-tabcontrol">Creating a TabControl</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=77817ab2-34d9-4375-9f96-e9d7b7a33502 data-doc-title="Passing data to a RenderFragment">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/templating-components-with-renderfragements/passing-data-to-a-renderfragement">Passing data to a RenderFragment</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=33edbb18-1f99-4ba9-8ccc-e3051758679f data-doc-title="Passing placeholders to RenderFragments">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/templating-components-with-renderfragements/passing-placeholders-to-renderfragments">Passing placeholders to RenderFragments</a>
</div>

      </div>
    </div>
<!-- _tree.cshtml -->
    <div class="menu dark:text-gray-300 ml-6 font-light flex items-start cursor-pointer" data-doc-id=111aa7f6-feab-457f-8f36-028970f3b0f0 data-doc-title="Using @typeparam to create generic components">
      <div class="flex items-start cursor-pointer">
        <!-- _tree-node.cshtml -->



<div class="sidebar-nav-item">
  <a href="/templating-components-with-renderfragements/using-typeparam-to-create-generic-components">Using @typeparam to create generic components</a>
</div>

      </div>
    </div>
      </div>
      </div>

  </nav>
</section>

        <main
          class="w-3/4 p-2 mx-auto prose max-w-none lg:p-10 bg-zinc-200 dark:bg-slate-800 dark:prose-invert "
        >
          <!-- _edit-in-github-link.cshtml -->

<a class="flex flex-row justify-end gap-2 -mt-4 text-sm font-normal" href="https://github.com/TimeWarp-Enterprises/blazor-university/edit/main/input/pages/dependency-injection/dependency-lifetimes-and-scopes/comparing-dependency-scopes/index.md" target="_blank">
  <span>
    Edit This Page
  </span>
  <svg 
  xmlns="http://www.w3.org/2000/svg" 
  fill="none" 
  viewBox="0 0 24 24" 
  stroke-width="1.5" 
  stroke="currentColor"
  class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round"
    d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
</svg>

</a>

          <p><a href="https://github.com/mrpmorris/blazor-university/tree/master/src/DependencyInjection/ServerDependencyScopes"><img src="images/SourceLink-e1567978928628.png" alt="" /></a></p>
<p>In this section we'll create a Blazor application to demonstrate the different lifetimes of the various dependency injection scopes.</p>
<p>To do this, we'll create three different services (one for each scope). Each of the services will keep track of the time it was created, and an incrementing <code>InstanceNumber</code> so we can keep track of how many instances of the type have been created.</p>
<p>First, create a new Blazor server-side application and add a static class to track the DateTime the app started, and calculate how much time has elapsed since it started.</p>
<p>public static class AppLifetime
{
public static DateTime StartTimeUtc { get; } = DateTime.UtcNow;
public static TimeSpan ElapsedTime =&gt; DateTime.UtcNow - StartTimeUtc;
}</p>
<h2 id="service-interfaces">Service interfaces</h2>
<p>Next, create three interfaces: <code>IMyTransientService</code>, <code>IMyScopedService</code>, and <code>IMySingletonService</code>. Each interface will be identical.</p>
<p><strong>Note:</strong> There are ways to write this code that would not require duplication, but for the sake of simplicity this sample will duplicate code.</p>
<p>public interface IMyTransientService
{
public TimeSpan DeltaCreationTime { get; }
public int InstanceNumber { get; }
}</p>
<p>public interface IMyScopedService
{
// As above
}</p>
<p>public interface IMySingletonService
{
// As above
}</p>
<h3 id="service-implementations">Service implementations</h3>
<p>Again the code for these services will be duplicated to avoid complexity. Upon creation our service will get the <code>ElapsedTime</code> from the <code>AppLifetime</code> class, so we can tell if the instance has been created recently or not. It will also assign itself an <code>InstanceId</code> from a static field.</p>
<p>public class MyTransientService : IMyTransientService
{
public TimeSpan DeltaCreationTime { get; }
public int InstanceNumber { get; }</p>
<pre><code>private static volatile int PreviousInstanceNumber;

public MyTransientService()
{
	DeltaCreationTime = DateTime.UtcNow - AppLifetime.StartTimeUtc;
	InstanceNumber = System.Threading.Interlocked.Increment(ref PreviousInstanceNumber);
}
</code></pre>
<p>}</p>
<p>public class MyScopedService : IMyScopedService
{
//As above
}</p>
<p>public class MySingletonService : IMySingletonService
{
// As above
}</p>
<h3 id="registering-our-services">Registering our services</h3>
<p>Edit the Startup.cs file, and in the <code>ConfigureServices</code> method register our services as follows.</p>
<p>services.AddSingleton&lt;IMySingletonService, MySingletonService&gt;();
services.AddScoped&lt;IMyScopedService, MyScopedService&gt;();
services.AddTransient&lt;IMyTransientService, MyTransientService&gt;();</p>
<h2 id="user-interface">User interface</h2>
<p>In our page, we'll want to show how instances are shared by multiple components. We'll make this easy by creating a component that consumes all three of our services, and then by having two instances of our component displayed in our page at the same time.</p>
<p><img src="images/ScopeComparisonServer.jpg" alt="" /></p>
<h3 id="creating-our-service-consuming-component">Creating our service consuming component</h3>
<p>First we need to inject our services, then we'll display the <code>InstanceNumber</code> for each instance and whether or not the injected service was created recently. To do this, we'll include a CSS class in UI if the service was created within the last 500 milliseconds.</p>
<p>&#64;inject IMySingletonService MySingletonService
&#64;inject IMyScopedService MyScopedService
&#64;inject IMyTransientService MyTransientService</p>
<dl>
	<dt>&#64;Caption</dt>
	<dd>
		<ul>
			<li>
				<span class="scope-name">Singleton</span>
				<span class="&#64;GetNewIndicatorCss(MySingletonService.DeltaCreationTime)">Instance #&#64;MySingletonService.InstanceNumber</span>
			</li>
			<li>
				<span class="scope-name">Scoped</span>
				<span class="&#64;GetNewIndicatorCss(MyScopedService.DeltaCreationTime)">Instance #&#64;MyScopedService.InstanceNumber</span>
			</li>
			<li>
				<span class="scope-name">Transient</span>
				<span class="&#64;GetNewIndicatorCss(MyTransientService.DeltaCreationTime)">Instance #&#64;MyTransientService.InstanceNumber</span>
			</li>
		</ul>
	</dd>
</dl>
<p>&#64;code
{
[Parameter]
public string Caption { get; set; }</p>
<pre><code>private string GetNewIndicatorCss(TimeSpan time)
{
	if (AppLifetime.ElapsedTime - time &lt; TimeSpan.FromMilliseconds(500))
	{
		return &quot;instance-info new-instance&quot;;
	}
	return &quot;instance-info&quot;;
}
</code></pre>
<p>}</p>
<ul>
<li><strong>Lines 1-3</strong><br />
Instructs Blazor to inject instances of our services into this component.</li>
<li><strong>Lines 10, 14, and 18</strong><br />
Shows the <code>InstanceNumber</code> of each of the injected dependencies, and also sets the HTML element's <code>class</code> attribute by calling <code>GetNewIndicatorCss</code>.</li>
<li><strong>Line 31</strong><br />
If the <code>DeltaCreationTime</code> (time between app start and instance creation) of the service is within 500 milliseconds of <code>AppLifetime.ElapsedTime</code> (time between app start and current time) then the component will be rendered with the CSS classes <code>instance-info new-instance</code>, otherwise it will only have the CSS class <code>instance-info</code>. This will let us display the UI differently for new instances.</li>
</ul>
<h3 id="displaying-our-component-on-a-page">Displaying our component on a page</h3>
<p>Edit Pages/Index.razor and change the mark-up as follows</p>
<p>&#64;page &quot;/&quot;
<MyStandardComponent Caption="Component 1" />
<MyStandardComponent Caption="Component 2" /></p>
<p>Run the application and you'll see the following output.</p>
<p><img src="images/ScopeComparisonServerPrerendered.jpg" alt="" /></p>
<p>It might come as a surprise that our Scoped Instance is <code>#2</code> when it should be the first instance. This is because server-side Blazor apps pre-render our page to send back a full HTML response before establishing a SignalR connection between browser and server to actually start our user's session. We can disable this for now by doing the following.</p>
<ul>
<li>Edit /Pages/_Host.cshtml</li>
<li>Locate the text <code>render-mode=&quot;ServerPrerendered&quot;</code></li>
<li>Change <code>ServerPrerendered</code> to <code>Server</code></li>
</ul>
<p>Re-running the app now will give us the result we expect.</p>
<p><img src="images/ScopeComparisonServer.jpg" alt="" /></p>
<p>The Singleton Instance will always be <code>#1</code> as it is shared by all users. The Scoped Instance will be <code>#1</code> for the first user of the app, <code>#2</code> for the second, and so on. The Transient Instance will be <code>#1</code> for the first component, <code>#2</code> for the second, because these are created for each component. If the user leaves the page and then returns, the only instance numbers that will change are the Transient Instances which will increment to <code>#3</code> and <code>#4</code>, and on the next visit to the page will increment to <code>#5</code> and <code>#6</code>.</p>
<h2 id="interactive-sample">Interactive sample</h2>
<p>To make the lifecycles a bit more obvious, we'll modify our Index.razor page so that it conditionall renders our components. We'll also show how an actual page refresh affects our scoped services.</p>
<p>We'll create a simple wizard style UI with the following steps</p>
<ol>
<li>Website started</li>
<li>Updated UI - Components recreated</li>
<li>Reloaded page in browser</li>
<li>Updated UI - Components recreated</li>
</ol>
<h3 id="ensuring-components-are-recreated-at-each-step">Ensuring components are recreated at each step</h3>
<p>To ensure our components are created on each navigation, we'll have a <code>CurrentStep</code> field and display one or another set of components depending on if the <code>CurrentStep</code> is an odd or even number.</p>
<p>&#64;if (CurrentStep % 2 == 1)
{
<MyStandardComponent Caption="Component 1" />
<MyStandardComponent Caption="Component 2" />
}
else
{
<MyStandardComponent Caption="Component 1" />
<MyStandardComponent Caption="Component 2" />
}</p>
<h3 id="forcing-a-page-refresh-in-the-browser">Forcing a page refresh in the browser</h3>
<p>To force a page refresh we'll use the <code>NavigationManager</code> to navigate, and pass <code>true</code> to the <code>forceLoad</code> parameter. So that we know we are continuing after a page refresh we'll navigate to <code>/continue</code>. This request will be served by the same page, but we'll know we should start at step 3 instead of step 1.</p>
<p Continue="">&#64;page &quot;/&quot;
&#64;page &quot;/&quot;
&#64;inject NavigationManager NavigationManager</p>
<p>&#64;code
{
[Parameter]
public string Continue { get; set; }</p>
<pre><code>private void GoToNextStep()
{
	CurrentStep++;
	if (CurrentStep == 3)
		NavigationManager.NavigateTo(&quot;/continue&quot;, forceLoad: true);
}

protected override void OnInitialized()
{
	base.OnInitialized();
	if (!string.IsNullOrWhiteSpace(Continue))
		CurrentStep = 3;
}
</code></pre>
<p>}</p>
<h3 id="completing-the-sample">Completing the sample</h3>
<p>The following (completed) code is essentially what has been outlined so far, with the addition of the following.</p>
<ol>
<li>Added text showing the name of the current step.</li>
<li>Added a button to click in order to progress to the next step.</li>
<li>Added code to disable the button when there is no next step.</li>
<li>Added some CSS styling in order to make new instances grab our attention by pulsing.</li>
</ol>
<p Continue="">&#64;page &quot;/&quot;
&#64;page &quot;/&quot;
&#64;inject NavigationManager NavigationManager</p>
<h1>Step &#64;CurrentStep: &#64;CurrentStepName</h1>
&#64;if (CurrentStep % 2 == 1)
{
	<MyStandardComponent Caption="Component 1" />
	<MyStandardComponent Caption="Component 2" />
}
else
{
	<MyStandardComponent Caption="Component 1" />
	<MyStandardComponent Caption="Component 2" />
}
<button &#64;onclick=GoToNextStep disabled=&#64;IsButtonDisabled>Next step</button>
<style>
	.scope-name {
		width: 5rem;
		display: inline-block;
		font-weight: bold;
	}

	.instance-info {
		color: white;
		background-color: #888;
		padding: 0 4px;
		margin: 2px;
		display: inline-block;
	}

		.instance-info.new-instance {
			background-color: #3f8f42;
			animation: flash-green 2s;
		}

	&#64;&#64;keyframes flash-green {
		from {
			background-color: #4cff00;
		}

		to {
			background-color: #3f8f42;
		}
	}
</style>
<p>&#64;code
{
[Parameter]
public string Continue { get; set; }</p>
<pre><code>private int CurrentStep = 1;
private string CurrentStepName =&gt; StepNames\[CurrentStep - 1\];
private bool IsButtonDisabled =&gt; CurrentStep &gt;= StepNames.Length;

private string\[\] StepNames = new string\[\]
{
	&quot;Website started&quot;,
	&quot;Updated UI - Components recreated&quot;,
	&quot;Reloaded page in browser&quot;,
	&quot;Updated UI - Components recreated&quot;
};

protected override void OnInitialized()
{
	base.OnInitialized();
	if (!string.IsNullOrWhiteSpace(Continue))
		CurrentStep = 3;
}

private void GoToNextStep()
{
	CurrentStep++;
	if (CurrentStep == 3)
		NavigationManager.NavigateTo(&quot;/continue&quot;, forceLoad: true);
}
</code></pre>
<p>}</p>
<ul>
<li><strong>Line 6</strong><br />
Renders one set of component instances or another depending on if <code>CurrentStep</code> is an odd or even number. This ensures the components that generate the UI are recreated for every step of the wizard.</li>
<li><strong>Line 16</strong><br />
Goes to the next step of the wizard, if there is one.</li>
<li><strong>Line 69</strong><br />
If the <code>Continue</code> route parameter is not null then continue from step 3.</li>
<li><strong>Line 76</strong><br />
If the clicks the <strong>Next step</strong> button and ends up on step 3, then force a reload of the page.</li>
</ul>
<h2 id="running-the-application">Running the application</h2>
<p>When our website first runs, we get the first instance of all of our injected dependencies. Except for the Transient dependencies, because these are created on demand and not cached away for reuse, we are given instances <code>#1</code> and <code>#2</code>.</p>
<p><img src="images/ScopeComparison1-1024x427.jpg" alt="" /></p>
<p>When the user clicks the <strong>Next step</strong> button the <code>CurrentStep</code> increments to 2, the first couple of our components are discarded and the second couple are created for rendering instead. Because these are new instances running in the same user session, they will receive the same Scoped dependency along with two new Transient dependencies.</p>
<p><img src="images/ScopeComparison2-1024x427.jpg" alt="" /></p>
<p>When the user clicks the <strong>Next step</strong> button again the app will force a reload of the app at the new path <code>/continue</code>. Because the ID of the SignalR connection was forgotten when the page was reloaded, the user will be set up with a new connection and therefore a new scope. So now when the first couple of components are rendered they Scoped instance <code>#2</code>.</p>
<p><img src="images/ScopeComparison3-1024x427.jpg" alt="" /></p>
<p>Finally, when the user clicks the Next step button for the final time, the second couple of our components will be created to be rendered and will be injected with the <code>IMySingletonService</code> cached by instance cached in the shared Singleton container (instance <code>#1</code>), with the <code>IMyScopedService</code> cached by the current user's injection container (instance <code>#2</code>), and two new instances of <code>IMyTransientService</code>.</p>
<p><img src="images/ScopeComparison4-1024x427.jpg" alt="" /></p>
<h2 id="webassembly-dependency-scopes">WebAssembly dependency scopes</h2>
<p><a href="https://github.com/mrpmorris/blazor-university/tree/master/src/DependencyInjection/WebAssemblyDependencyScopes"><img src="images/SourceLink-e1567978928628.png" alt="" /></a></p>
<p>Because WebAssembly runs in the user's browser and every tab is a completely separate process, our output will be slightly different than that produced by a server-side Blazor application.</p>
<p>First, the app starts up in the browser tab and we get the same output we'd expect to see on a server-side Blazor application.</p>
<p><img src="images/WasmScopeComparison1-1024x427.jpg" alt="" /></p>
<p>The first click of <strong>Next step</strong> also shows us a screen that is the same as in our server-side Blazor application, where the Singleton and Scoped instances remain unchanged because they are both cached instances, and two Transient instances are created on demand.</p>
<p><img src="images/WasmScopeComparison2-1024x427.jpg" alt="" /></p>
<p>It's when our app performs a forced reload that things are different. In a server-side application the user gets a new SignalR connection ID and therefore a new dependency injection container on the server that is tied to that ID. In WebAssembly there is no application state for the page to reconnect to. Once the page reloads, the whole application state is destroyed and then recreated. As a consequence, our instances numbers start again from the beginning.</p>
<p><img src="images/WasmScopeComparison3-1024x427.jpg" alt="" /></p>
<p>And then finally.</p>
<p><img src="images/WasmScopeComparison4-1024x427.jpg" alt="" /></p>
<h2 id="conclusion">Conclusion</h2>
<p>Due to the fact that the user interface and the UI logic are tied together in a Blazor application, there is no per-request dependency injection scope.</p>
<p>Singleton registered dependencies are shared across users in a server-side application, but unique per browser tab in a WebAssembly application.</p>
<p>Scoped dependencies act pretty much the same as Singleton registered dependencies, except they are isolated from other users / other browser tabs.</p>
<p>Transient dependencies work the same on both server-side and WebAssembly, and the same as in ASP.NET MVC - except for the fact that the dependency injection container is disposed of after a page request in ASP.NET MVC. See the <a href="https://blazor-university.com/dependency-injection/dependency-lifetimes-and-scopes/transient-dependencies/#avoiding-memory-leaks">Avoiding memory leaks</a> section of Transient dependencies.</p>
<p>There are ways of introducing additional scopes for each user. This technique will be covered in a later section.</p>

        </main>
      </div>
      <!-- Main Footer -->
    </div>
    <!-- _scripts.cshtml -->
<script src="/js/prism.js"></script>
<script src="/js/tree.js"></script>

  </div>
</body>
</html>
